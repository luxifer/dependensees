#!/usr/bin/env php

<?php

$classLoader = require __DIR__ . '/../vendor/autoload.php';
$projectDir = __DIR__ . '/..';

use DependenSees\Application;
use Dflydev\EmbeddedComposer\Core\EmbeddedComposerBuilder;

$embeddedComposerBuilder = new EmbeddedComposerBuilder(
    $classLoader,
    $projectDir
);

$embeddedComposer = $embeddedComposerBuilder
    ->setComposerFilename('composer.json')
    ->setVendorDirectory('vendor')
    ->build();

$embeddedComposer->processAdditionalAutoloads();

$console = new Application($embeddedComposer);
$console->run();
